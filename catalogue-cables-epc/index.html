<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Catalogue EPC - Chemins de C√¢bles</title>
  <style>
    :root {
      --primary: #1a365d;
      --primary-light: #2c5282;
      --secondary: #38a169;
      --accent: #ed8936;
      --bg: #f7fafc;
      --card-bg: #ffffff;
      --text: #2d3748;
      --text-light: #718096;
      --border: #e2e8f0;
      --shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
      --radius: 8px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
    }

    .header {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
      color: white;
      padding: 2rem 1rem;
      text-align: center;
    }

    .header h1 { font-size: 1.8rem; margin-bottom: 0.5rem; }
    .header p { opacity: 0.9; font-size: 1rem; }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 1rem;
    }

    /* Recherche et contr√¥les */
    .controls {
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .search-bar {
      display: flex;
      gap: 1rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }

    .search-input {
      flex: 1;
      min-width: 200px;
      padding: 0.75rem 1rem;
      border: 2px solid var(--border);
      border-radius: var(--radius);
      font-size: 1rem;
      transition: border-color 0.2s;
    }

    .search-input:focus {
      outline: none;
      border-color: var(--primary);
    }

    .view-toggle {
      display: flex;
      gap: 0.5rem;
    }

    .view-btn {
      padding: 0.75rem 1rem;
      border: 2px solid var(--border);
      background: var(--card-bg);
      border-radius: var(--radius);
      cursor: pointer;
      transition: all 0.2s;
      font-size: 1rem;
    }

    .view-btn.active {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }

    .view-btn:hover:not(.active) {
      border-color: var(--primary);
    }

    /* Filtres */
    .filters {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .filter-group h4 {
      font-size: 0.85rem;
      color: var(--text-light);
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .filter-options {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .filter-chip {
      padding: 0.4rem 0.8rem;
      border: 1px solid var(--border);
      border-radius: 20px;
      background: var(--card-bg);
      cursor: pointer;
      font-size: 0.85rem;
      transition: all 0.2s;
      user-select: none;
    }

    .filter-chip:hover {
      border-color: var(--primary);
    }

    .filter-chip.active {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
    }

    .filter-actions {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      padding-top: 1rem;
      border-top: 1px solid var(--border);
    }

    .btn {
      padding: 0.6rem 1.2rem;
      border: none;
      border-radius: var(--radius);
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 500;
      transition: all 0.2s;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .btn-primary {
      background: var(--secondary);
      color: white;
    }

    .btn-primary:hover { background: #2f855a; }

    .btn-secondary {
      background: var(--border);
      color: var(--text);
    }

    .btn-secondary:hover { background: #cbd5e0; }

    .btn-accent {
      background: var(--accent);
      color: white;
    }

    .btn-accent:hover { background: #dd6b20; }

    .results-count {
      font-size: 0.9rem;
      color: var(--text-light);
      margin-left: auto;
    }

    /* Vue Cartes */
    .cards-view {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
      gap: 1.5rem;
    }

    .card {
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
    }

    .card-header {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
      color: white;
      padding: 1rem 1.25rem;
      display: flex;
      gap: 1rem;
      align-items: flex-start;
    }

    .card-icon {
      width: 56px;
      height: 56px;
      min-width: 56px;
      background: rgba(255,255,255,0.15);
      border-radius: 8px;
      padding: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .card-icon svg {
      width: 40px;
      height: 40px;
      color: white;
    }

    .card-header-content {
      flex: 1;
    }

    .card-header h3 {
      font-size: 1.1rem;
      margin-bottom: 0.25rem;
    }

    .card-header .famille-badge {
      display: inline-block;
      background: rgba(255,255,255,0.2);
      padding: 0.2rem 0.6rem;
      border-radius: 12px;
      font-size: 0.75rem;
      margin-top: 0.5rem;
    }

    /* Table icon */
    .table-icon {
      width: 32px;
      height: 32px;
      display: inline-block;
      vertical-align: middle;
      margin-right: 0.5rem;
    }

    .table-icon svg {
      width: 100%;
      height: 100%;
      color: var(--primary);
    }

    .card-body {
      padding: 1.25rem;
    }

    .card-section {
      margin-bottom: 1rem;
    }

    .card-section:last-child { margin-bottom: 0; }

    .card-section h4 {
      font-size: 0.75rem;
      color: var(--text-light);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 0.4rem;
    }

    .card-section p {
      font-size: 0.9rem;
      color: var(--text);
    }

    .tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
    }

    .tag {
      padding: 0.2rem 0.5rem;
      background: var(--bg);
      border-radius: 4px;
      font-size: 0.8rem;
      color: var(--text-light);
    }

    .tag.usage { background: #ebf8ff; color: #2b6cb0; }
    .tag.materiau { background: #f0fff4; color: #276749; }
    .tag.env { background: #faf5ff; color: #6b46c1; }

    .nom-en {
      font-style: italic;
      color: var(--text-light);
      font-size: 0.85rem;
    }

    .card-footer {
      padding: 1rem 1.25rem;
      background: var(--bg);
      border-top: 1px solid var(--border);
    }

    .copy-btn {
      width: 100%;
      padding: 0.6rem;
      background: var(--secondary);
      color: white;
      border: none;
      border-radius: var(--radius);
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 500;
      transition: background 0.2s;
    }

    .copy-btn:hover { background: #2f855a; }
    .copy-btn.copied { background: var(--accent); }

    /* Vue Tableau */
    .table-view {
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    .table-wrapper {
      overflow-x: auto;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.9rem;
    }

    th {
      background: var(--primary);
      color: white;
      text-align: left;
      padding: 1rem;
      font-weight: 600;
      white-space: nowrap;
    }

    td {
      padding: 0.75rem 1rem;
      border-bottom: 1px solid var(--border);
      vertical-align: top;
    }

    tr:hover td {
      background: var(--bg);
    }

    td.nom-cell {
      font-weight: 600;
      color: var(--primary);
    }

    td .small-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.25rem;
      margin-top: 0.25rem;
    }

    td .small-tag {
      padding: 0.15rem 0.4rem;
      background: var(--bg);
      border-radius: 3px;
      font-size: 0.7rem;
    }

    .table-copy-btn {
      padding: 0.4rem 0.8rem;
      background: var(--secondary);
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.8rem;
      white-space: nowrap;
    }

    .table-copy-btn:hover { background: #2f855a; }
    .table-copy-btn.copied { background: var(--accent); }

    /* Glossaire */
    .glossaire {
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 1.5rem;
      margin-top: 2rem;
    }

    .glossaire h2 {
      color: var(--primary);
      margin-bottom: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .glossaire-table {
      max-height: 400px;
      overflow-y: auto;
    }

    .glossaire table {
      font-size: 0.85rem;
    }

    .glossaire th {
      position: sticky;
      top: 0;
      z-index: 1;
    }

    /* Toast notification */
    .toast {
      position: fixed;
      bottom: 2rem;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background: var(--primary);
      color: white;
      padding: 1rem 2rem;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      opacity: 0;
      transition: all 0.3s;
      z-index: 1000;
    }

    .toast.show {
      transform: translateX(-50%) translateY(0);
      opacity: 1;
    }

    /* Hidden */
    .hidden { display: none !important; }

    /* Responsive */
    @media (max-width: 768px) {
      .header h1 { font-size: 1.4rem; }
      
      .cards-view {
        grid-template-columns: 1fr;
      }

      .filter-group {
        grid-column: span 1;
      }

      .search-bar {
        flex-direction: column;
      }

      .view-toggle {
        width: 100%;
      }

      .view-btn {
        flex: 1;
        text-align: center;
      }

      .results-count {
        width: 100%;
        margin-left: 0;
        text-align: center;
      }

      .filter-actions {
        flex-direction: column;
      }

      .btn {
        width: 100%;
        justify-content: center;
      }
    }

    /* Print styles */
    @media print {
      .controls, .filter-actions, .copy-btn, .table-copy-btn {
        display: none;
      }
    }
  </style>
</head>
<body>
  <!-- SVG Icons Definitions -->
  <svg xmlns="http://www.w3.org/2000/svg" style="display:none;">
    <defs>
      <!-- G√©n√©rique: Cable tray basic -->
      <symbol id="icon-generique" viewBox="0 0 64 64">
        <rect x="8" y="24" width="48" height="16" rx="2" fill="none" stroke="currentColor" stroke-width="2"/>
        <line x1="8" y1="28" x2="56" y2="28" stroke="currentColor" stroke-width="1.5"/>
        <line x1="8" y1="32" x2="56" y2="32" stroke="currentColor" stroke-width="1.5"/>
        <line x1="8" y1="36" x2="56" y2="36" stroke="currentColor" stroke-width="1.5"/>
        <path d="M4 40 L8 40 L8 24 L4 24" fill="none" stroke="currentColor" stroke-width="2"/>
        <path d="M60 40 L56 40 L56 24 L60 24" fill="none" stroke="currentColor" stroke-width="2"/>
      </symbol>
      
      <!-- A√©rien: Suspended ladder tray -->
      <symbol id="icon-aerien" viewBox="0 0 64 64">
        <line x1="16" y1="8" x2="16" y2="24" stroke="currentColor" stroke-width="2"/>
        <line x1="48" y1="8" x2="48" y2="24" stroke="currentColor" stroke-width="2"/>
        <rect x="8" y="24" width="48" height="4" fill="currentColor" opacity="0.3"/>
        <line x1="8" y1="24" x2="56" y2="24" stroke="currentColor" stroke-width="2"/>
        <line x1="8" y1="28" x2="56" y2="28" stroke="currentColor" stroke-width="2"/>
        <line x1="16" y1="24" x2="16" y2="28" stroke="currentColor" stroke-width="1.5"/>
        <line x1="24" y1="24" x2="24" y2="28" stroke="currentColor" stroke-width="1.5"/>
        <line x1="32" y1="24" x2="32" y2="28" stroke="currentColor" stroke-width="1.5"/>
        <line x1="40" y1="24" x2="40" y2="28" stroke="currentColor" stroke-width="1.5"/>
        <line x1="48" y1="24" x2="48" y2="28" stroke="currentColor" stroke-width="1.5"/>
        <path d="M20 32 Q24 36 28 32 Q32 28 36 32 Q40 36 44 32" fill="none" stroke="currentColor" stroke-width="1.5" opacity="0.6"/>
        <path d="M18 38 Q24 44 32 38 Q40 32 46 38" fill="none" stroke="currentColor" stroke-width="1.5" opacity="0.6"/>
        <circle cx="16" cy="8" r="2" fill="currentColor"/>
        <circle cx="48" cy="8" r="2" fill="currentColor"/>
      </symbol>
      
      <!-- Enterr√©: Underground duct -->
      <symbol id="icon-enterre" viewBox="0 0 64 64">
        <rect x="4" y="4" width="56" height="56" fill="none" stroke="currentColor" stroke-width="1" stroke-dasharray="2,2" opacity="0.3"/>
        <rect x="8" y="32" width="48" height="20" fill="currentColor" opacity="0.1"/>
        <line x1="4" y1="32" x2="60" y2="32" stroke="currentColor" stroke-width="1" stroke-dasharray="4,2"/>
        <rect x="12" y="36" width="40" height="12" rx="2" fill="none" stroke="currentColor" stroke-width="2"/>
        <circle cx="22" cy="42" r="4" fill="none" stroke="currentColor" stroke-width="1.5"/>
        <circle cx="32" cy="42" r="4" fill="none" stroke="currentColor" stroke-width="1.5"/>
        <circle cx="42" cy="42" r="4" fill="none" stroke="currentColor" stroke-width="1.5"/>
        <line x1="8" y1="28" x2="56" y2="28" stroke="#e65100" stroke-width="2" stroke-dasharray="6,3"/>
        <path d="M16 20 L16 12 L20 12" fill="none" stroke="currentColor" stroke-width="1.5"/>
        <path d="M48 20 L48 12 L44 12" fill="none" stroke="currentColor" stroke-width="1.5"/>
      </symbol>
      
      <!-- Ferm√©: Enclosed trunking -->
      <symbol id="icon-ferme" viewBox="0 0 64 64">
        <rect x="8" y="20" width="48" height="24" rx="2" fill="currentColor" opacity="0.1" stroke="currentColor" stroke-width="2"/>
        <line x1="8" y1="28" x2="56" y2="28" stroke="currentColor" stroke-width="1"/>
        <rect x="24" y="20" width="16" height="8" fill="none" stroke="currentColor" stroke-width="1.5"/>
        <line x1="32" y1="20" x2="32" y2="16" stroke="currentColor" stroke-width="1.5"/>
        <circle cx="32" cy="14" r="2" fill="currentColor"/>
        <path d="M16 32 Q20 36 24 32" fill="none" stroke="currentColor" stroke-width="1.5" opacity="0.5"/>
        <path d="M28 34 Q34 38 40 34" fill="none" stroke="currentColor" stroke-width="1.5" opacity="0.5"/>
        <path d="M44 32 Q48 36 52 32" fill="none" stroke="currentColor" stroke-width="1.5" opacity="0.5"/>
        <rect x="4" y="36" width="8" height="8" rx="1" fill="none" stroke="currentColor" stroke-width="1.5"/>
        <rect x="52" y="36" width="8" height="8" rx="1" fill="none" stroke="currentColor" stroke-width="1.5"/>
      </symbol>
      
      <!-- Travers√©e: Wall penetration -->
      <symbol id="icon-traversee" viewBox="0 0 64 64">
        <rect x="24" y="4" width="16" height="56" fill="currentColor" opacity="0.15"/>
        <line x1="24" y1="4" x2="24" y2="60" stroke="currentColor" stroke-width="2"/>
        <line x1="40" y1="4" x2="40" y2="60" stroke="currentColor" stroke-width="2"/>
        <ellipse cx="32" cy="24" rx="6" ry="4" fill="none" stroke="currentColor" stroke-width="2"/>
        <ellipse cx="32" cy="40" rx="6" ry="4" fill="none" stroke="currentColor" stroke-width="2"/>
        <line x1="4" y1="24" x2="26" y2="24" stroke="currentColor" stroke-width="1.5"/>
        <line x1="38" y1="24" x2="60" y2="24" stroke="currentColor" stroke-width="1.5"/>
        <line x1="4" y1="40" x2="26" y2="40" stroke="currentColor" stroke-width="1.5"/>
        <line x1="38" y1="40" x2="60" y2="40" stroke="currentColor" stroke-width="1.5"/>
        <path d="M8 20 L8 28" stroke="currentColor" stroke-width="1"/>
        <path d="M56 20 L56 28" stroke="currentColor" stroke-width="1"/>
        <path d="M8 36 L8 44" stroke="currentColor" stroke-width="1"/>
        <path d="M56 36 L56 44" stroke="currentColor" stroke-width="1"/>
      </symbol>
      
      <!-- Raccordement: Junction box -->
      <symbol id="icon-raccordement" viewBox="0 0 64 64">
        <rect x="16" y="16" width="32" height="32" rx="4" fill="currentColor" opacity="0.1" stroke="currentColor" stroke-width="2"/>
        <circle cx="24" cy="28" r="3" fill="currentColor"/>
        <circle cx="32" cy="28" r="3" fill="currentColor"/>
        <circle cx="40" cy="28" r="3" fill="currentColor"/>
        <circle cx="24" cy="36" r="3" fill="currentColor"/>
        <circle cx="32" cy="36" r="3" fill="currentColor"/>
        <circle cx="40" cy="36" r="3" fill="currentColor"/>
        <line x1="8" y1="24" x2="16" y2="24" stroke="currentColor" stroke-width="2"/>
        <line x1="8" y1="32" x2="16" y2="32" stroke="currentColor" stroke-width="2"/>
        <line x1="8" y1="40" x2="16" y2="40" stroke="currentColor" stroke-width="2"/>
        <line x1="48" y1="24" x2="56" y2="24" stroke="currentColor" stroke-width="2"/>
        <line x1="48" y1="32" x2="56" y2="32" stroke="currentColor" stroke-width="2"/>
        <line x1="48" y1="40" x2="56" y2="40" stroke="currentColor" stroke-width="2"/>
        <line x1="32" y1="8" x2="32" y2="16" stroke="currentColor" stroke-width="2"/>
        <line x1="32" y1="48" x2="32" y2="56" stroke="currentColor" stroke-width="2"/>
      </symbol>
      
      <!-- Busduct: Busbar trunking -->
      <symbol id="icon-busduct" viewBox="0 0 64 64">
        <rect x="4" y="24" width="56" height="16" rx="2" fill="currentColor" opacity="0.15" stroke="currentColor" stroke-width="2"/>
        <line x1="8" y1="28" x2="56" y2="28" stroke="#c53030" stroke-width="3"/>
        <line x1="8" y1="32" x2="56" y2="32" stroke="#2b6cb0" stroke-width="3"/>
        <line x1="8" y1="36" x2="56" y2="36" stroke="#276749" stroke-width="3"/>
        <rect x="20" y="40" width="8" height="12" rx="1" fill="none" stroke="currentColor" stroke-width="1.5"/>
        <rect x="36" y="40" width="8" height="12" rx="1" fill="none" stroke="currentColor" stroke-width="1.5"/>
        <line x1="24" y1="40" x2="24" y2="36" stroke="currentColor" stroke-width="1"/>
        <line x1="40" y1="40" x2="40" y2="36" stroke="currentColor" stroke-width="1"/>
        <path d="M4 20 L12 20 L12 24" fill="none" stroke="currentColor" stroke-width="1.5"/>
        <path d="M60 20 L52 20 L52 24" fill="none" stroke="currentColor" stroke-width="1.5"/>
      </symbol>
    </defs>
  </svg>

  <header class="header">
    <h1>üìã Catalogue EPC - Chemins de C√¢bles</h1>
    <p>R√©f√©rentiel technique des passages et cheminements de c√¢bles</p>
  </header>

  <div class="container">
    <section class="controls">
      <div class="search-bar">
        <input type="text" class="search-input" id="searchInput" placeholder="Rechercher par nom, description, mots-cl√©s...">
        <div class="view-toggle">
          <button class="view-btn active" data-view="cards">üÉè Cartes</button>
          <button class="view-btn" data-view="table">üìä Tableau</button>
        </div>
      </div>

      <div class="filters" id="filtersContainer"></div>

      <div class="filter-actions">
        <button class="btn btn-secondary" id="resetFilters">‚Üª R√©initialiser</button>
        <button class="btn btn-primary" id="exportJson">üì• Export JSON</button>
        <button class="btn btn-accent" id="exportCsv">üì• Export CSV</button>
        <span class="results-count" id="resultsCount">0 r√©sultats</span>
      </div>
    </section>

    <main id="mainContent">
      <div class="cards-view" id="cardsView"></div>
      <div class="table-view hidden" id="tableView">
        <div class="table-wrapper">
          <table id="dataTable">
            <thead>
              <tr>
                <th>Nom FR</th>
                <th>Famille</th>
                <th>Description</th>
                <th>Usages</th>
                <th>Nom EN</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="tableBody"></tbody>
          </table>
        </div>
      </div>
    </main>

    <section class="glossaire">
      <h2>
        Glossaire EPC FR/EN
        <button class="btn btn-accent" id="exportGlossaire">üì• Export CSV Glossaire</button>
      </h2>
      <div class="glossaire-table">
        <table>
          <thead>
            <tr>
              <th>Terme FR</th>
              <th>Terme EN</th>
              <th>Famille</th>
            </tr>
          </thead>
          <tbody id="glossaireBody"></tbody>
        </table>
      </div>
    </section>
  </div>

  <div class="toast" id="toast">Texte copi√© !</div>

  <script>
    // ============================================================
    // DONN√âES DU CATALOGUE
    // ============================================================
    const data = [
      // A) Termes g√©n√©riques
      {
        id: "chemin-de-cables",
        famille: "G√©n√©rique",
        nom_fr: "Chemin de c√¢bles",
        noms_alternatifs: ["CDC", "Cable tray"],
        nom_en: "Cable tray",
        description: "Terme g√©n√©rique d√©signant tout syst√®me de support permettant le cheminement horizontal ou vertical des c√¢bles √©lectriques et de donn√©es dans une installation.",
        materiaux: ["Acier", "Inox", "Alu", "PVC-PE"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["BT", "MT", "Data", "Puissance", "Contr√¥le-commande"],
        notes_epc: ["Sp√©cifier charge admissible", "Pr√©ciser finition (galva, peint, inox)", "Dimensionnement selon nombre de c√¢bles"],
        exemple_phrase_epc: "L'Entrepreneur shall fournir et installer les chemins de c√¢bles conform√©ment aux plans d'ex√©cution approuv√©s. / The Contractor shall supply and install cable trays in accordance with approved shop drawings."
      },
      {
        id: "cheminement-de-cables",
        famille: "G√©n√©rique",
        nom_fr: "Cheminement de c√¢bles",
        noms_alternatifs: ["Parcours de c√¢bles", "Circuit de c√¢bles"],
        nom_en: "Cable routing / Cable pathway",
        description: "Ensemble du parcours emprunt√© par les c√¢bles depuis leur origine jusqu'√† leur destination, incluant tous les supports et travers√©es.",
        materiaux: ["Mixte"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["BT", "MT", "Data", "Puissance"],
        notes_epc: ["D√©finir les points de d√©part et d'arriv√©e", "Identifier les travers√©es de locaux"],
        exemple_phrase_epc: "Le cheminement de c√¢bles shall √™tre optimis√© pour minimiser les longueurs et √©viter les zones √† risque. / Cable routing shall be optimized to minimize lengths and avoid hazardous areas."
      },
      {
        id: "support-de-cables",
        famille: "G√©n√©rique",
        nom_fr: "Support de c√¢bles",
        noms_alternatifs: ["Fixation de c√¢bles", "Attache c√¢bles"],
        nom_en: "Cable support",
        description: "Tout √©l√©ment m√©canique permettant de maintenir les c√¢bles en position, incluant colliers, clips, attaches et structures porteuses.",
        materiaux: ["Acier", "Inox", "Alu"],
        environnements: ["Indoor", "Outdoor", "Corrosif"],
        usages: ["BT", "MT", "Data", "Puissance", "Contr√¥le-commande"],
        notes_epc: ["Compatibilit√© √©lectrochimique avec les c√¢bles", "R√©sistance √† la corrosion si outdoor"],
        exemple_phrase_epc: "Les supports de c√¢bles shall √™tre dimensionn√©s pour supporter 1.5 fois la charge nominale des c√¢bles. / Cable supports shall be sized to withstand 1.5 times the nominal cable load."
      },
      {
        id: "passage-de-cables",
        famille: "G√©n√©rique",
        nom_fr: "Passage de c√¢bles",
        noms_alternatifs: ["Transit de c√¢bles", "Couloir de c√¢bles"],
        nom_en: "Cable passage / Cable run",
        description: "Zone ou espace d√©di√© au transit des c√¢bles √† travers un b√¢timent ou une structure, pouvant √™tre horizontal ou vertical.",
        materiaux: ["Mixte"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["BT", "MT", "Data", "Puissance"],
        notes_epc: ["Respecter les rayons de courbure", "Pr√©voir espaces de r√©serve 20-30%"],
        exemple_phrase_epc: "Les passages de c√¢bles shall pr√©voir une r√©serve de capacit√© de 30% minimum. / Cable passages shall provide a minimum 30% spare capacity."
      },
      {
        id: "reseau-chemins-cables",
        famille: "G√©n√©rique",
        nom_fr: "R√©seau de chemins de c√¢bles",
        noms_alternatifs: ["Infrastructure de c√¢blage", "Syst√®me de cheminement"],
        nom_en: "Cable tray network / Cable ladder system",
        description: "Ensemble interconnect√© des chemins de c√¢bles formant l'infrastructure compl√®te de distribution √©lectrique et data d'un site.",
        materiaux: ["Acier", "Inox", "Alu"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["BT", "MT", "Data", "Puissance", "Contr√¥le-commande"],
        notes_epc: ["Coh√©rence des dimensions sur l'ensemble du r√©seau", "Plan de masse et num√©rotation"],
        exemple_phrase_epc: "Le r√©seau de chemins de c√¢bles shall √™tre con√ßu comme un syst√®me unifi√© avec des dimensions standardis√©es. / The cable tray network shall be designed as a unified system with standardized dimensions."
      },

      // B) A√©riens (m√©talliques)
      {
        id: "chemin-cables-metallique",
        famille: "A√©rien",
        nom_fr: "Chemin de c√¢bles m√©tallique",
        noms_alternatifs: ["CDC m√©tal", "Tablette m√©tallique"],
        nom_en: "Metal cable tray",
        description: "Chemin de c√¢bles fabriqu√© en acier galvanis√©, inox ou aluminium, offrant r√©sistance m√©canique et protection √©lectromagn√©tique.",
        materiaux: ["Acier", "Inox", "Alu"],
        environnements: ["Indoor", "Outdoor", "Corrosif"],
        usages: ["BT", "MT", "Puissance", "Contr√¥le-commande"],
        notes_epc: ["√âpaisseur minimum selon charge", "Traitement de surface adapt√© √† l'environnement", "Mise √† la terre continue"],
        exemple_phrase_epc: "Les chemins de c√¢bles m√©talliques shall √™tre en acier galvanis√© √† chaud selon EN 10346 √©paisseur min. 1.5mm. / Metal cable trays shall be hot-dip galvanized steel per EN 10346 min. thickness 1.5mm."
      },
      {
        id: "chemin-cables-perfore",
        famille: "A√©rien",
        nom_fr: "Chemin de c√¢bles perfor√©",
        noms_alternatifs: ["CDC perfor√©", "Tablette perfor√©e"],
        nom_en: "Perforated cable tray",
        description: "Chemin de c√¢bles √† fond plein avec perforations r√©guli√®res permettant la ventilation des c√¢bles et la fixation par colliers.",
        materiaux: ["Acier", "Inox", "Alu"],
        environnements: ["Indoor"],
        usages: ["BT", "Data", "Contr√¥le-commande"],
        notes_epc: ["Taux de perforation √† pr√©ciser", "Adapt√© aux c√¢bles n√©cessitant ventilation"],
        exemple_phrase_epc: "Les chemins de c√¢bles perfor√©s shall avoir un taux de perforation de 30% minimum pour assurer la ventilation. / Perforated cable trays shall have a minimum 30% perforation rate to ensure ventilation."
      },
      {
        id: "chemin-cables-plein",
        famille: "A√©rien",
        nom_fr: "Chemin de c√¢bles plein",
        noms_alternatifs: ["CDC ferm√©", "Tablette pleine", "Goulotte pleine"],
        nom_en: "Solid bottom cable tray",
        description: "Chemin de c√¢bles √† fond continu sans perforations, offrant une protection maximale contre les chutes d'objets et les projections.",
        materiaux: ["Acier", "Inox", "Alu"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["BT", "MT", "Puissance"],
        notes_epc: ["Protection m√©canique renforc√©e", "Attention √† l'√©chauffement des c√¢bles"],
        exemple_phrase_epc: "Les chemins de c√¢bles pleins shall √™tre utilis√©s dans les zones expos√©es aux projections ou chutes d'objets. / Solid bottom cable trays shall be used in areas exposed to splashes or falling objects."
      },
      {
        id: "chemin-cables-grillage",
        famille: "A√©rien",
        nom_fr: "Chemin de c√¢bles grillag√© (panier)",
        noms_alternatifs: ["CDC fil", "Panier √† c√¢bles", "CDC filaire", "Wire basket"],
        nom_en: "Wire mesh cable tray / Cable basket",
        description: "Structure en fil d'acier soud√© formant un panier ouvert, l√©ger et √©conomique, id√©al pour les c√¢bles data et courants faibles.",
        materiaux: ["Acier", "Inox"],
        environnements: ["Indoor"],
        usages: ["Data", "Contr√¥le-commande", "BT"],
        notes_epc: ["Charge admissible r√©duite vs perfor√©", "Installation rapide", "Excellente ventilation"],
        exemple_phrase_epc: "Les chemins de c√¢bles grillag√©s shall √™tre r√©serv√©s aux c√¢bles data et courants faibles avec charge max. 15 kg/m. / Wire mesh cable trays shall be reserved for data and low current cables with max. load 15 kg/m."
      },
      {
        id: "chemin-cables-echelle",
        famille: "A√©rien",
        nom_fr: "Chemin de c√¢bles √©chelle",
        noms_alternatifs: ["CDC √† barreaux", "√âchelle √† c√¢bles", "Ladder tray"],
        nom_en: "Cable ladder / Ladder cable tray",
        description: "Structure compos√©e de deux longerons lat√©raux reli√©s par des barreaux transversaux, con√ßue pour les charges lourdes et grandes port√©es.",
        materiaux: ["Acier", "Inox", "Alu"],
        environnements: ["Indoor", "Outdoor", "Corrosif"],
        usages: ["MT", "Puissance", "BT"],
        notes_epc: ["Port√©e max. entre supports selon charge", "Barreaux espac√©s 300mm max.", "Id√©al pour gros c√¢bles"],
        exemple_phrase_epc: "Les chemins de c√¢bles √©chelle shall avoir des barreaux espac√©s de 300mm max. et supporter une charge de 100 kg/m min. / Cable ladders shall have rungs spaced max. 300mm apart and support min. 100 kg/m load."
      },
      {
        id: "chemin-cables-suspendu",
        famille: "A√©rien",
        nom_fr: "Chemin de c√¢bles suspendu",
        noms_alternatifs: ["CDC suspendu", "Chemin suspendu en plafond"],
        nom_en: "Suspended cable tray",
        description: "Chemin de c√¢bles fix√© en sous-face de dalle ou charpente par des tiges filet√©es ou c√¢bles de suspension.",
        materiaux: ["Acier", "Inox", "Alu"],
        environnements: ["Indoor"],
        usages: ["BT", "Data", "Puissance", "Contr√¥le-commande"],
        notes_epc: ["Hauteur libre sous chemin", "Longueur max. des tiges", "Contreventement si n√©cessaire"],
        exemple_phrase_epc: "Les chemins de c√¢bles suspendus shall maintenir une hauteur libre de 2.5m minimum sous le chemin. / Suspended cable trays shall maintain a minimum 2.5m clear height below the tray."
      },
      {
        id: "chemin-cables-autoportant",
        famille: "A√©rien",
        nom_fr: "Chemin de c√¢bles autoportant",
        noms_alternatifs: ["CDC autoporteur", "Chemin grande port√©e"],
        nom_en: "Self-supporting cable tray",
        description: "Chemin de c√¢bles renforc√© con√ßu pour franchir de grandes port√©es sans support interm√©diaire (jusqu'√† 6-9m selon mod√®le).",
        materiaux: ["Acier", "Alu"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["Puissance", "MT", "BT"],
        notes_epc: ["Fl√®che max. admissible L/200", "V√©rifier charge admissible vs port√©e"],
        exemple_phrase_epc: "Les chemins de c√¢bles autoportants shall permettre des port√©es de 6m min. avec fl√®che max. L/200 √† pleine charge. / Self-supporting cable trays shall allow min. 6m spans with max. deflection L/200 at full load."
      },
      {
        id: "console-chemin-cables",
        famille: "A√©rien",
        nom_fr: "Console de chemin de c√¢bles",
        noms_alternatifs: ["√âquerre de support", "Support mural CDC"],
        nom_en: "Cable tray bracket / Wall bracket",
        description: "Support mural en forme de L ou triangulaire permettant la fixation lat√©rale des chemins de c√¢bles sur les murs ou poteaux.",
        materiaux: ["Acier", "Inox"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["BT", "MT", "Data", "Puissance"],
        notes_epc: ["Charge admissible par console", "Espacement max. des consoles", "Type de fixation murale"],
        exemple_phrase_epc: "Les consoles shall √™tre espac√©es de 1.5m max. et supporter 50% de charge en plus de la charge nominale. / Brackets shall be spaced max. 1.5m apart and support 50% more than nominal load."
      },
      {
        id: "potence-chemin-cables",
        famille: "A√©rien",
        nom_fr: "Potence de chemin de c√¢bles",
        noms_alternatifs: ["Bras de support", "Support d√©port√©"],
        nom_en: "Cable tray cantilever / Cantilever arm",
        description: "Support en porte-√†-faux permettant de supporter les chemins de c√¢bles √† distance des murs ou structures porteuses.",
        materiaux: ["Acier", "Inox"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["BT", "MT", "Puissance"],
        notes_epc: ["Longueur de bras et charge admissible", "Fixation sur IPN ou mur b√©ton"],
        exemple_phrase_epc: "Les potences shall avoir une port√©e de 600mm min. et √™tre fix√©es sur structure b√©ton ou m√©tallique. / Cantilevers shall have min. 600mm reach and be fixed to concrete or steel structure."
      },
      {
        id: "portique-cables",
        famille: "A√©rien",
        nom_fr: "Portique de c√¢bles",
        noms_alternatifs: ["Portique porte-c√¢bles", "Structure de franchissement"],
        nom_en: "Cable gantry / Cable bridge",
        description: "Structure autoportante formant un cadre ou pont permettant le passage des chemins de c√¢bles au-dessus des voies de circulation.",
        materiaux: ["Acier", "Alu"],
        environnements: ["Outdoor", "Indoor"],
        usages: ["MT", "Puissance", "BT"],
        notes_epc: ["Hauteur libre sous portique", "Port√©e et charge admissible", "Fondations"],
        exemple_phrase_epc: "Les portiques shall assurer une hauteur libre de 5m au-dessus des voies de circulation engins. / Cable gantries shall provide 5m clear height above vehicle circulation routes."
      },
      {
        id: "structure-metallique-porte-cables",
        famille: "A√©rien",
        nom_fr: "Structure m√©tallique porte-c√¢bles",
        noms_alternatifs: ["Rack √† c√¢bles", "Ossature de c√¢blage"],
        nom_en: "Cable support steelwork",
        description: "Ensemble de charpente m√©tallique d√©di√© au support de multiples niveaux de chemins de c√¢bles sur un site industriel.",
        materiaux: ["Acier"],
        environnements: ["Outdoor", "Indoor"],
        usages: ["Puissance", "MT", "BT", "Data"],
        notes_epc: ["Plans de structure IFC", "Charges par niveau", "Protection anticorrosion"],
        exemple_phrase_epc: "La structure porte-c√¢bles shall √™tre dimensionn√©e pour 3 niveaux de chemins avec r√©serve 30%. / Cable support steelwork shall be sized for 3 tray levels with 30% spare capacity."
      },

      // C) Enterr√©s / au sol
      {
        id: "caniveau-technique",
        famille: "Enterr√©",
        nom_fr: "Caniveau technique",
        noms_alternatifs: ["Caniveau de c√¢bles", "Caniveau √©lectrique", "Tranch√©e couverte"],
        nom_en: "Cable trench / Cable duct",
        description: "Ouvrage en b√©ton enterr√© ou au sol recouvert de dalles amovibles permettant le passage et l'accessibilit√© des c√¢bles.",
        materiaux: ["B√©ton", "Acier"],
        environnements: ["Outdoor", "Indoor", "Zone humide"],
        usages: ["MT", "Puissance", "BT"],
        notes_epc: ["Dimensions int√©rieures", "Classe de charge des dalles", "Drainage et √©tanch√©it√©"],
        exemple_phrase_epc: "Les caniveaux techniques shall avoir des dimensions min. 400x400mm et dalles classe C250. / Cable trenches shall have min. 400x400mm dimensions and C250 class covers."
      },
      {
        id: "tranchee-technique",
        famille: "Enterr√©",
        nom_fr: "Tranch√©e technique",
        noms_alternatifs: ["Tranch√©e c√¢bles", "Tranch√©e enterr√©e"],
        nom_en: "Cable trench / Underground trench",
        description: "Excavation lin√©aire dans le sol destin√©e √† recevoir des c√¢bles pos√©s sur lit de sable avec remblai et grillage avertisseur.",
        materiaux: ["B√©ton", "PVC-PE"],
        environnements: ["Outdoor", "Zone humide"],
        usages: ["MT", "Puissance", "BT"],
        notes_epc: ["Profondeur min. 80cm sous circulation", "Grillage avertisseur", "Lit de sable 10cm"],
        exemple_phrase_epc: "Les tranch√©es shall avoir une profondeur de 80cm min. sous voirie avec grillage avertisseur rouge. / Trenches shall have min. 80cm depth under roads with red warning mesh."
      },
      {
        id: "galerie-technique",
        famille: "Enterr√©",
        nom_fr: "Galerie technique",
        noms_alternatifs: ["Tunnel technique", "Galerie c√¢bles", "Galerie de service"],
        nom_en: "Cable tunnel / Utility tunnel",
        description: "Ouvrage souterrain visitable de grandes dimensions permettant le passage de multiples r√©seaux (√©lectrique, data, fluides).",
        materiaux: ["B√©ton"],
        environnements: ["Indoor", "Zone humide"],
        usages: ["MT", "Puissance", "BT", "Data"],
        notes_epc: ["Hauteur libre min. 2m", "Ventilation", "√âclairage de s√©curit√©", "Issues de secours"],
        exemple_phrase_epc: "La galerie technique shall avoir une hauteur libre de 2.2m et des issues de secours tous les 100m. / The cable tunnel shall have 2.2m clear height and emergency exits every 100m."
      },
      {
        id: "fourreau-cables",
        famille: "Enterr√©",
        nom_fr: "Fourreau de c√¢bles",
        noms_alternatifs: ["Gaine de passage", "Tube de protection"],
        nom_en: "Cable conduit / Cable duct",
        description: "Tube rigide ou semi-rigide enterr√© permettant le tirage et la protection des c√¢bles contre les contraintes m√©caniques du sol.",
        materiaux: ["PVC-PE", "Acier"],
        environnements: ["Outdoor", "Zone humide"],
        usages: ["MT", "BT", "Data"],
        notes_epc: ["Diam√®tre adapt√© au c√¢ble (1.5x)", "Aiguillage pour tirage", "Courbes √† grand rayon"],
        exemple_phrase_epc: "Les fourreaux shall avoir un diam√®tre min. 1.5x le diam√®tre du c√¢ble et √™tre aiguill√©s. / Conduits shall have min. 1.5x cable diameter and be fitted with draw wire."
      },
      {
        id: "gaine-enterree",
        famille: "Enterr√©",
        nom_fr: "Gaine enterr√©e",
        noms_alternatifs: ["Conduit enterr√©", "Canalisation √©lectrique enterr√©e"],
        nom_en: "Buried conduit / Underground duct",
        description: "Syst√®me de tubes enterr√©s formant un r√©seau pour la distribution des c√¢bles sur un site, avec regards de tirage interm√©diaires.",
        materiaux: ["PVC-PE", "B√©ton"],
        environnements: ["Outdoor", "Zone humide"],
        usages: ["MT", "BT", "Data"],
        notes_epc: ["Pente min. 1% vers regards", "Regards tous les 50m", "Chambres de tirage aux changements de direction"],
        exemple_phrase_epc: "Les gaines enterr√©es shall avoir une pente de 1% min. vers les regards espac√©s de 50m max. / Buried conduits shall have min. 1% slope towards manholes spaced max. 50m apart."
      },
      {
        id: "tpc",
        famille: "Enterr√©",
        nom_fr: "TPC (Tube de Protection des C√¢bles)",
        noms_alternatifs: ["Tube TPC", "Gaine annel√©e", "Tube annel√©"],
        nom_en: "Corrugated cable duct / HDPE duct",
        description: "Tube annel√© en poly√©thyl√®ne haute densit√© rouge pour l'√©lectricit√©, utilis√© pour la protection des c√¢bles enterr√©s.",
        materiaux: ["PVC-PE"],
        environnements: ["Outdoor", "Zone humide"],
        usages: ["BT", "MT"],
        notes_epc: ["Couleur normalis√©e (rouge = √©lec)", "Diam√®tre 40 √† 200mm courant", "R√©sistance √† l'√©crasement SN4/SN8"],
        exemple_phrase_epc: "Les TPC shall √™tre de couleur rouge NF, diam√®tre adapt√© et r√©sistance SN8 sous voirie. / Corrugated ducts shall be NF red, appropriate diameter and SN8 rating under roads."
      },
      {
        id: "reservation-beton-cables",
        famille: "Enterr√©",
        nom_fr: "R√©servation b√©ton pour c√¢bles",
        noms_alternatifs: ["R√©servation de travers√©e", "Tr√©mie c√¢bles"],
        nom_en: "Cable sleeve / Cable opening",
        description: "Ouverture ou passage pr√©vu dans les √©l√©ments en b√©ton (dalles, murs, radiers) pour permettre le passage ult√©rieur des c√¢bles.",
        materiaux: ["B√©ton"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["BT", "MT", "Puissance", "Data"],
        notes_epc: ["Dimensions avec tol√©rance +50mm", "Ferraillage de renfort", "Rebouchage coupe-feu si n√©cessaire"],
        exemple_phrase_epc: "Les r√©servations shall avoir des dimensions major√©es de 50mm et un renfort de ferraillage p√©riph√©rique. / Openings shall have dimensions increased by 50mm with peripheral reinforcement."
      },

      // D) Ferm√©s / prot√©g√©s
      {
        id: "goulotte-electrique",
        famille: "Ferm√©",
        nom_fr: "Goulotte √©lectrique",
        noms_alternatifs: ["Goulotte industrielle", "Goulotte technique", "Moulure industrielle"],
        nom_en: "Cable trunking / Wireway",
        description: "Profil√© ferm√© avec couvercle clipsable ou viss√© permettant le passage prot√©g√© des c√¢bles, g√©n√©ralement fix√© en apparent.",
        materiaux: ["Acier", "PVC-PE", "Alu"],
        environnements: ["Indoor"],
        usages: ["BT", "Data", "Contr√¥le-commande"],
        notes_epc: ["Indice de protection IP4X min.", "Cloisonnement si multi-courants", "Accessoires (angles, d√©rivations)"],
        exemple_phrase_epc: "Les goulottes shall √™tre IP4X minimum avec cloison de s√©paration puissance/data. / Cable trunking shall be min. IP4X with power/data separation partition."
      },
      {
        id: "coffrage-cables",
        famille: "Ferm√©",
        nom_fr: "Coffrage de c√¢bles",
        noms_alternatifs: ["Habillage de c√¢bles", "Capotage c√¢bles"],
        nom_en: "Cable enclosure / Cable boxing",
        description: "Habillage m√©tallique ou composite fermant un ensemble de c√¢bles pour des raisons esth√©tiques, de protection ou de s√©curit√©.",
        materiaux: ["Acier", "Alu"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["BT", "Puissance"],
        notes_epc: ["D√©montable pour maintenance", "Ventilation si n√©cessaire", "Finition architecturale"],
        exemple_phrase_epc: "Le coffrage shall √™tre d√©montable sans outillage sp√©cial et permettre l'acc√®s aux c√¢bles. / The enclosure shall be removable without special tools and allow cable access."
      },
      {
        id: "chemin-cables-capote",
        famille: "Ferm√©",
        nom_fr: "Chemin de c√¢bles capot√©",
        noms_alternatifs: ["CDC avec couvercle", "CDC prot√©g√©"],
        nom_en: "Covered cable tray",
        description: "Chemin de c√¢bles standard √©quip√© d'un couvercle de protection contre la poussi√®re, les chutes d'objets ou les contacts accidentels.",
        materiaux: ["Acier", "Inox", "Alu"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["BT", "MT", "Puissance"],
        notes_epc: ["Couvercle clips√© ou boulonn√©", "Ventilation lat√©rale si ferm√©"],
        exemple_phrase_epc: "Les chemins de c√¢bles capot√©s shall avoir des couvercles facilement d√©montables et des ou√Øes de ventilation. / Covered cable trays shall have easily removable covers and ventilation slots."
      },
      {
        id: "chemin-cables-ferme",
        famille: "Ferm√©",
        nom_fr: "Chemin de c√¢bles ferm√©",
        noms_alternatifs: ["CDC clos", "Gaine de c√¢bles"],
        nom_en: "Enclosed cable tray",
        description: "Syst√®me de cheminement enti√®rement ferm√© offrant une protection IP √©lev√©e contre l'environnement agressif ou la poussi√®re.",
        materiaux: ["Acier", "Inox", "Alu"],
        environnements: ["Outdoor", "Corrosif", "Zone humide"],
        usages: ["BT", "MT", "Puissance"],
        notes_epc: ["Indice IP selon environnement", "Joints d'√©tanch√©it√©", "Purges condensation"],
        exemple_phrase_epc: "Les chemins de c√¢bles ferm√©s shall offrir une protection IP55 minimum avec purges de condensation. / Enclosed cable trays shall provide min. IP55 protection with condensation drains."
      },
      {
        id: "enveloppe-protection-cables",
        famille: "Ferm√©",
        nom_fr: "Enveloppe de protection de c√¢bles",
        noms_alternatifs: ["Blindage de c√¢bles", "Caisson de protection"],
        nom_en: "Cable protection enclosure",
        description: "Dispositif de protection renforc√©e pour c√¢bles dans les zones √† risques m√©caniques, chimiques ou d'explosion.",
        materiaux: ["Acier", "Inox"],
        environnements: ["Outdoor", "Corrosif", "Zone humide"],
        usages: ["MT", "Puissance"],
        notes_epc: ["Certification ATEX si zone explosible", "R√©sistance aux chocs IK10"],
        exemple_phrase_epc: "Les enveloppes de protection shall √™tre certifi√©es ATEX Zone 2 dans les zones class√©es. / Protection enclosures shall be ATEX Zone 2 certified in classified areas."
      },

      // E) Travers√©es
      {
        id: "traversee-paroi",
        famille: "Travers√©e",
        nom_fr: "Travers√©e de paroi",
        noms_alternatifs: ["Passage de mur", "P√©n√©tration murale"],
        nom_en: "Wall penetration / Wall transit",
        description: "Dispositif permettant le passage des c√¢bles √† travers une paroi verticale tout en maintenant les caract√©ristiques requises (√©tanch√©it√©, coupe-feu).",
        materiaux: ["Acier", "Mixte"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["BT", "MT", "Data", "Puissance", "Contr√¥le-commande"],
        notes_epc: ["Calfeutrement coupe-feu si REI", "√âtanch√©it√© si diff√©rentiel de pression", "Passage de c√¢bles suppl√©mentaires"],
        exemple_phrase_epc: "Les travers√©es de paroi shall maintenir le degr√© coupe-feu de la paroi travers√©e (EI120 min.). / Wall penetrations shall maintain the fire rating of the penetrated wall (min. EI120)."
      },
      {
        id: "traversee-dalle",
        famille: "Travers√©e",
        nom_fr: "Travers√©e de dalle",
        noms_alternatifs: ["Passage de plancher", "Tr√©mie de c√¢bles"],
        nom_en: "Floor penetration / Slab transit",
        description: "Dispositif permettant le passage vertical des c√¢bles √† travers une dalle b√©ton avec maintien des performances coupe-feu.",
        materiaux: ["Acier", "B√©ton"],
        environnements: ["Indoor"],
        usages: ["BT", "MT", "Data", "Puissance"],
        notes_epc: ["Cadre m√©tallique de renfort", "Syst√®me coupe-feu certifi√©", "Rehausse si n√©cessaire"],
        exemple_phrase_epc: "Les travers√©es de dalle shall √™tre √©quip√©es de syst√®mes coupe-feu certifi√©s EI120 avec cadre renforc√©. / Floor penetrations shall be fitted with EI120 certified firestop systems and reinforced frames."
      },
      {
        id: "traversee-coupe-feu",
        famille: "Travers√©e",
        nom_fr: "Travers√©e coupe-feu",
        noms_alternatifs: ["Transit CF", "P√©n√©tration REI", "Obturation coupe-feu"],
        nom_en: "Firestop penetration / Fire barrier transit",
        description: "Syst√®me de travers√©e avec dispositif d'obturation coupe-feu (mastic, coussin, bloc) maintenant l'int√©grit√© au feu de la paroi.",
        materiaux: ["Mixte"],
        environnements: ["Indoor"],
        usages: ["BT", "MT", "Data", "Puissance", "Contr√¥le-commande"],
        notes_epc: ["PV de classement au feu", "Compatible avec types de c√¢bles", "Plan de calfeutrement"],
        exemple_phrase_epc: "Les travers√©es coupe-feu shall utiliser des syst√®mes certifi√©s avec PV d'essai pour les c√¢bles install√©s. / Firestop penetrations shall use certified systems with test reports for installed cable types."
      },
      {
        id: "passe-cables",
        famille: "Travers√©e",
        nom_fr: "Passe-c√¢bles",
        noms_alternatifs: ["Passe-fil", "Grommet"],
        nom_en: "Cable grommet / Cable entry",
        description: "√âl√©ment souple (caoutchouc, √©lastom√®re) permettant le passage √©tanche d'un ou plusieurs c√¢bles √† travers une paroi mince ou t√¥le.",
        materiaux: ["Mixte", "PVC-PE"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["BT", "Data", "Contr√¥le-commande"],
        notes_epc: ["Diam√®tre adapt√© au c√¢ble", "Indice IP", "R√©sistance UV si outdoor"],
        exemple_phrase_epc: "Les passe-c√¢bles shall assurer une √©tanch√©it√© IP67 et √™tre r√©sistants aux UV en ext√©rieur. / Cable grommets shall provide IP67 sealing and be UV resistant for outdoor use."
      },
      {
        id: "manchon-traversee",
        famille: "Travers√©e",
        nom_fr: "Manchon de travers√©e",
        noms_alternatifs: ["Sleeve de travers√©e", "Tube de r√©servation"],
        nom_en: "Sleeve / Wall sleeve",
        description: "Tube m√©tallique ou PVC scell√© dans la paroi d√©finissant le passage des c√¢bles, permettant un calfeutrement ult√©rieur.",
        materiaux: ["Acier", "PVC-PE"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["BT", "MT", "Data", "Puissance"],
        notes_epc: ["Diam√®tre major√© de 20mm min.", "Collerette anti-feu si n√©cessaire", "Pose avant coulage b√©ton"],
        exemple_phrase_epc: "Les manchons shall avoir un diam√®tre major√© de 30% et des collerettes d'√©tanch√©it√© des deux c√¥t√©s. / Sleeves shall have 30% increased diameter and sealing collars on both sides."
      },
      {
        id: "fourreau-traversee",
        famille: "Travers√©e",
        nom_fr: "Fourreau de travers√©e",
        noms_alternatifs: ["Conduit de travers√©e", "Tube de passage"],
        nom_en: "Transit conduit / Crossing duct",
        description: "Conduit install√© √† travers une paroi ou sous une voie de circulation pour permettre le passage prot√©g√© des c√¢bles.",
        materiaux: ["Acier", "PVC-PE"],
        environnements: ["Outdoor", "Indoor"],
        usages: ["BT", "MT", "Data"],
        notes_epc: ["R√©sistance √† l'√©crasement sous voirie", "Bouchon d'obturation provisoire", "Aiguillage"],
        exemple_phrase_epc: "Les fourreaux de travers√©e sous voirie shall √™tre en acier ou PEHD classe SN8 minimum. / Transit conduits under roads shall be steel or HDPE min. SN8 class."
      },
      {
        id: "penetration-electrique",
        famille: "Travers√©e",
        nom_fr: "P√©n√©tration √©lectrique",
        noms_alternatifs: ["Transit √©lectrique", "Passage c√¢bles HT"],
        nom_en: "Electrical penetration",
        description: "Syst√®me de travers√©e sp√©cialement con√ßu pour les c√¢bles √©lectriques haute ou moyenne tension avec exigences sp√©cifiques.",
        materiaux: ["Acier", "Mixte"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["MT", "Puissance"],
        notes_epc: ["Distances d'isolement", "Mise √† la terre", "Ventilation si √©chauffement"],
        exemple_phrase_epc: "Les p√©n√©trations √©lectriques MT shall respecter les distances d'isolement selon IEC 60071. / MV electrical penetrations shall comply with clearance distances per IEC 60071."
      },
      {
        id: "reservation-passage-cables",
        famille: "Travers√©e",
        nom_fr: "R√©servation de passage de c√¢bles",
        noms_alternatifs: ["R√©servation c√¢bles", "Tr√©mie r√©serv√©e"],
        nom_en: "Cable opening reservation",
        description: "Espace pr√©vu et dimensionn√© dans la structure pour le passage futur des c√¢bles, avant coulage du b√©ton.",
        materiaux: ["B√©ton"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["BT", "MT", "Data", "Puissance"],
        notes_epc: ["Plans de r√©servation pr√©coces", "Coffrage r√©cup√©rable", "Marge de 30% minimum"],
        exemple_phrase_epc: "Les r√©servations shall √™tre dimensionn√©es avec 30% de marge et valid√©es avant coulage b√©ton. / Reservations shall be sized with 30% margin and approved before concrete pour."
      },
      {
        id: "passe-cloison",
        famille: "Travers√©e",
        nom_fr: "Passe-cloison",
        noms_alternatifs: ["Passe-mur", "Travers√©e cloison l√©g√®re"],
        nom_en: "Partition transit / Bulkhead fitting",
        description: "Dispositif de travers√©e pour cloisons l√©g√®res (plaques de pl√¢tre, panneaux sandwich) avec finition esth√©tique.",
        materiaux: ["Acier", "PVC-PE"],
        environnements: ["Indoor"],
        usages: ["BT", "Data", "Contr√¥le-commande"],
        notes_epc: ["Adapt√© √† l'√©paisseur de cloison", "Finition affleurante", "Capacit√© d'ajout de c√¢bles"],
        exemple_phrase_epc: "Les passe-cloisons shall √™tre adapt√©s √† l'√©paisseur de paroi et permettre l'ajout ult√©rieur de c√¢bles. / Partition transits shall suit wall thickness and allow future cable additions."
      },

      // F) Raccordement / interface
      {
        id: "point-raccordement",
        famille: "Raccordement",
        nom_fr: "Point de raccordement",
        noms_alternatifs: ["Point de connexion", "Point de branchement"],
        nom_en: "Connection point / Termination point",
        description: "Emplacement d√©sign√© o√π les c√¢bles sont termin√©s et raccord√©s aux √©quipements ou au r√©seau de distribution.",
        materiaux: ["Acier", "Mixte"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["BT", "MT", "Data", "Puissance", "Contr√¥le-commande"],
        notes_epc: ["Accessibilit√© maintenance", "Rep√©rage et identification", "Espace de travail NFC 15-100"],
        exemple_phrase_epc: "Les points de raccordement shall √™tre accessibles et identifi√©s selon le plan de rep√©rage approuv√©. / Connection points shall be accessible and identified per the approved labeling plan."
      },
      {
        id: "interface-electrique",
        famille: "Raccordement",
        nom_fr: "Interface √©lectrique",
        noms_alternatifs: ["Limite de fourniture", "Point de livraison"],
        nom_en: "Electrical interface / Demarcation point",
        description: "Point de s√©paration contractuelle entre deux lots, deux fournisseurs ou entre l'installation et le r√©seau public.",
        materiaux: ["Mixte"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["BT", "MT", "Puissance"],
        notes_epc: ["D√©finition claire des responsabilit√©s", "Documentation interface", "Essais de r√©ception"],
        exemple_phrase_epc: "L'interface √©lectrique shall √™tre document√©e avec sch√©mas et r√©partition des responsabilit√©s par lot. / The electrical interface shall be documented with diagrams and responsibilities per lot."
      },
      {
        id: "zone-raccordement",
        famille: "Raccordement",
        nom_fr: "Zone de raccordement",
        noms_alternatifs: ["Aire de raccordement", "Espace de terminaison"],
        nom_en: "Termination area / Connection zone",
        description: "Espace d√©di√© aux op√©rations de raccordement des c√¢bles, dimensionn√© pour permettre le travail en s√©curit√©.",
        materiaux: ["Mixte"],
        environnements: ["Indoor"],
        usages: ["BT", "MT", "Data", "Puissance", "Contr√¥le-commande"],
        notes_epc: ["Dimensions selon NFC 15-100", "√âclairage 500 lux min.", "Prises de service"],
        exemple_phrase_epc: "Les zones de raccordement shall avoir un √©clairage de 500 lux et un acc√®s d√©gag√© sur 3 c√¥t√©s min. / Termination areas shall have 500 lux lighting and clear access on min. 3 sides."
      },
      {
        id: "boite-jonction",
        famille: "Raccordement",
        nom_fr: "Bo√Æte de jonction",
        noms_alternatifs: ["Bo√Æte de connexion", "Bo√Æte de raccordement"],
        nom_en: "Junction box",
        description: "Coffret permettant la connexion et la d√©rivation de plusieurs c√¢bles avec protection des connexions.",
        materiaux: ["Acier", "PVC-PE"],
        environnements: ["Indoor", "Outdoor", "Corrosif"],
        usages: ["BT", "Data", "Contr√¥le-commande"],
        notes_epc: ["Indice IP adapt√© √† l'environnement", "Borniers de raccordement", "Accessibilit√© pour maintenance"],
        exemple_phrase_epc: "Les bo√Ætes de jonction shall √™tre IP55 minimum en ext√©rieur avec borniers d√©brochables. / Junction boxes shall be min. IP55 outdoors with disconnectable terminals."
      },
      {
        id: "boite-tirage",
        famille: "Raccordement",
        nom_fr: "Bo√Æte de tirage",
        noms_alternatifs: ["Chambre de tirage", "Regard de tirage"],
        nom_en: "Pull box / Pulling chamber",
        description: "Coffret ou chambre interm√©diaire permettant de faciliter le tirage des c√¢bles sur les longs parcours ou aux changements de direction.",
        materiaux: ["B√©ton", "Acier"],
        environnements: ["Indoor", "Outdoor", "Zone humide"],
        usages: ["MT", "BT", "Data"],
        notes_epc: ["Dimensions suffisantes pour rayon de courbure", "Tous les 50-80m selon c√¢bles", "Drainage si enterr√©e"],
        exemple_phrase_epc: "Les bo√Ætes de tirage shall √™tre install√©es tous les 50m et aux changements de direction >45¬∞. / Pull boxes shall be installed every 50m and at direction changes >45¬∞."
      },
      {
        id: "boite-derivation",
        famille: "Raccordement",
        nom_fr: "Bo√Æte de d√©rivation",
        noms_alternatifs: ["Bo√Æte de distribution", "Bo√Æte de r√©partition"],
        nom_en: "Distribution box / Branch box",
        description: "Coffret permettant de d√©river un circuit principal vers plusieurs circuits secondaires.",
        materiaux: ["Acier", "PVC-PE"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["BT", "Contr√¥le-commande"],
        notes_epc: ["Rep√©rage des d√©parts", "Sectionnement possible", "Protection des d√©rivations"],
        exemple_phrase_epc: "Les bo√Ætes de d√©rivation shall permettre le sectionnement individuel de chaque d√©part avec rep√©rage. / Distribution boxes shall allow individual isolation of each outgoing circuit with labeling."
      },
      {
        id: "coffret-interface",
        famille: "Raccordement",
        nom_fr: "Coffret d'interface",
        noms_alternatifs: ["Armoire d'interface", "Coffret de raccordement"],
        nom_en: "Interface cabinet / Marshalling cabinet",
        description: "Armoire regroupant les raccordements entre diff√©rents syst√®mes ou entre c√¢bles terrain et c√¢bles de contr√¥le.",
        materiaux: ["Acier", "Inox"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["Contr√¥le-commande", "Data", "BT"],
        notes_epc: ["Borniers de marshalling", "S√©paration des tensions", "Rep√©rage d√©taill√©"],
        exemple_phrase_epc: "Les coffrets d'interface shall avoir des borniers √† double √©tage avec rep√©rage fil √† fil. / Interface cabinets shall have double-tier terminals with wire-by-wire labeling."
      },
      {
        id: "bornier-raccordement",
        famille: "Raccordement",
        nom_fr: "Bornier de raccordement",
        noms_alternatifs: ["R√©glette de bornes", "Rail de borniers"],
        nom_en: "Terminal block / Terminal strip",
        description: "Ensemble de bornes de connexion mont√©es sur rail permettant le raccordement ordonn√© des conducteurs.",
        materiaux: ["Mixte"],
        environnements: ["Indoor"],
        usages: ["BT", "Contr√¥le-commande", "Data"],
        notes_epc: ["Section admissible des conducteurs", "Marquage des bornes", "Accessoires de test"],
        exemple_phrase_epc: "Les borniers shall √™tre de type d√©brochable avec marquage individuel et section 2.5mm¬≤ min. / Terminal blocks shall be disconnectable type with individual marking and min. 2.5mm¬≤ rating."
      },
      {
        id: "point-livraison-bt",
        famille: "Raccordement",
        nom_fr: "Point de livraison BT (PCC)",
        noms_alternatifs: ["PCC", "Point de comptage", "Limite de concession"],
        nom_en: "Point of common coupling / Delivery point",
        description: "Point contractuel de livraison de l'√©nergie √©lectrique basse tension entre le distributeur et l'installation cliente.",
        materiaux: ["Mixte"],
        environnements: ["Indoor", "Outdoor"],
        usages: ["BT", "Puissance"],
        notes_epc: ["Comptage √† d√©finir avec distributeur", "Accessibilit√© releveur", "Protection amont/aval"],
        exemple_phrase_epc: "Le PCC shall √™tre conforme aux exigences du distributeur local avec acc√®s 24h/24 pour relev√©. / The PCC shall comply with local utility requirements with 24/7 access for meter reading."
      },

      // G) Busduct (barres pr√©fabriqu√©es)
      {
        id: "busduct-bt",
        famille: "Busduct",
        nom_fr: "Busduct BT",
        noms_alternatifs: ["Canalisation √©lectrique pr√©fabriqu√©e", "Barre blind√©e BT"],
        nom_en: "LV busduct / LV busbar trunking",
        description: "Syst√®me de distribution √©lectrique pr√©fabriqu√© en usine compos√© de barres conductrices isol√©es dans une enveloppe m√©tallique.",
        materiaux: ["Alu", "Acier"],
        environnements: ["Indoor"],
        usages: ["BT", "Puissance"],
        notes_epc: ["Intensit√© nominale et de court-circuit", "Indice IP", "Lin√©aires et accessoires"],
        exemple_phrase_epc: "Le busduct BT shall √™tre dimensionn√© pour In=2500A et Icc=65kA pendant 1s. / LV busduct shall be rated for In=2500A and Isc=65kA for 1s."
      },
      {
        id: "jeu-barres-prefabrique",
        famille: "Busduct",
        nom_fr: "Jeu de barres pr√©fabriqu√©",
        noms_alternatifs: ["Barres pr√©fab", "Syst√®me de barres"],
        nom_en: "Prefabricated busbar / Busbar assembly",
        description: "Ensemble de conducteurs barres isol√©s et assembl√©s en usine, pr√™t √† installer sur site avec connectique standardis√©e.",
        materiaux: ["Alu", "Acier"],
        environnements: ["Indoor"],
        usages: ["BT", "Puissance"],
        notes_epc: ["Essais usine FAT", "Transport et manutention", "Montage et serrage"],
        exemple_phrase_epc: "Les jeux de barres shall √™tre test√©s en usine (FAT) avec rapport d'essai joint √† la livraison. / Busbar assemblies shall be factory tested (FAT) with test report included at delivery."
      },
      {
        id: "busbar-trunking-system",
        famille: "Busduct",
        nom_fr: "Busbar trunking system (BTS)",
        noms_alternatifs: ["Syst√®me BTS", "Canalisation barres"],
        nom_en: "Busbar trunking system",
        description: "Syst√®me modulaire complet de distribution par barres incluant √©l√©ments droits, coudes, d√©rivations et bo√Ætes de raccordement.",
        materiaux: ["Alu", "Acier"],
        environnements: ["Indoor"],
        usages: ["BT", "Puissance"],
        notes_epc: ["Conformit√© IEC 61439-6", "Classe IP selon installation", "Dilatation thermique"],
        exemple_phrase_epc: "Le BTS shall √™tre conforme IEC 61439-6 avec joints de dilatation tous les 30m. / The BTS shall comply with IEC 61439-6 with expansion joints every 30m."
      },
      {
        id: "ligne-barres",
        famille: "Busduct",
        nom_fr: "Ligne de barres",
        noms_alternatifs: ["Canalisation de barres", "Distribution par barres"],
        nom_en: "Busbar line / Busway",
        description: "Parcours principal de distribution √©lectrique par busduct reliant le transformateur ou le TGBT aux tableaux divisionnaires.",
        materiaux: ["Alu", "Acier"],
        environnements: ["Indoor"],
        usages: ["Puissance", "BT"],
        notes_epc: ["Trac√© et supports", "Calcul de chute de tension", "√âquilibrage des phases"],
        exemple_phrase_epc: "La ligne de barres shall avoir une chute de tension max. de 1% entre TGBT et dernier tableau. / The busbar line shall have max. 1% voltage drop between MSB and last distribution board."
      },
      {
        id: "chemin-busduct",
        famille: "Busduct",
        nom_fr: "Chemin de busduct",
        noms_alternatifs: ["Trac√© busduct", "Parcours busduct"],
        nom_en: "Busduct routing",
        description: "Itin√©raire planifi√© pour l'installation du busduct incluant les changements de direction et les travers√©es.",
        materiaux: ["Mixte"],
        environnements: ["Indoor"],
        usages: ["Puissance", "BT"],
        notes_epc: ["Plan de cheminement 3D", "Coordination avec autres lots", "R√©servations n√©cessaires"],
        exemple_phrase_epc: "Le chemin de busduct shall √™tre coordonn√© avec le lot CVC pour √©viter les interf√©rences. / Busduct routing shall be coordinated with HVAC lot to avoid interferences."
      },
      {
        id: "support-busduct",
        famille: "Busduct",
        nom_fr: "Support de busduct",
        noms_alternatifs: ["Console busduct", "Fixation busduct"],
        nom_en: "Busduct support / Busduct hanger",
        description: "Structure de supportage sp√©cifique au busduct permettant de reprendre le poids et les efforts de dilatation.",
        materiaux: ["Acier"],
        environnements: ["Indoor"],
        usages: ["Puissance", "BT"],
        notes_epc: ["Espacement selon fabricant", "Point fixe et points glissants", "Charge admissible"],
        exemple_phrase_epc: "Les supports shall √™tre install√©s selon les prescriptions du fabricant avec alternance point fixe/glissant. / Supports shall be installed per manufacturer's specifications with alternating fixed/sliding points."
      },
      {
        id: "coude-busduct",
        famille: "Busduct",
        nom_fr: "Coude de busduct",
        noms_alternatifs: ["Angle busduct", "Changement de direction"],
        nom_en: "Busduct elbow / Busduct bend",
        description: "√âl√©ment pr√©fabriqu√© permettant le changement de direction (horizontal ou vertical) du parcours du busduct.",
        materiaux: ["Alu", "Acier"],
        environnements: ["Indoor"],
        usages: ["Puissance", "BT"],
        notes_epc: ["Angle standard 90¬∞ ou sur mesure", "Maintien des caract√©ristiques √©lectriques", "Accessibilit√© boulonnerie"],
        exemple_phrase_epc: "Les coudes shall maintenir l'intensit√© nominale de la ligne droite sans d√©classement. / Elbows shall maintain the straight section nominal current without derating."
      },
      {
        id: "boite-raccordement-busduct",
        famille: "Busduct",
        nom_fr: "Bo√Æte de raccordement busduct",
        noms_alternatifs: ["Bo√Æte de jonction busduct", "Coffret de raccordement barres"],
        nom_en: "Busduct connection box / Busduct joint box",
        description: "Coffret permettant la connexion du busduct aux √©quipements (transformateur, tableau) ou entre tron√ßons de busduct.",
        materiaux: ["Acier"],
        environnements: ["Indoor"],
        usages: ["Puissance", "BT"],
        notes_epc: ["Couple de serrage des connexions", "Indice IP", "Acc√®s pour thermographie"],
        exemple_phrase_epc: "Les bo√Ætes de raccordement shall permettre le contr√¥le thermographique sans d√©montage du capot. / Connection boxes shall allow thermographic inspection without cover removal."
      },
      {
        id: "tap-off-box",
        famille: "Busduct",
        nom_fr: "Tap-off box",
        noms_alternatifs: ["Bo√Æte de d√©rivation busduct", "Prise busduct"],
        nom_en: "Tap-off box / Plug-in unit",
        description: "Bo√Ætier enfichable sur le busduct permettant de d√©river l'alimentation vers un tableau ou un √©quipement.",
        materiaux: ["Acier"],
        environnements: ["Indoor"],
        usages: ["BT", "Puissance"],
        notes_epc: ["Calibre et type de protection", "Embrochage/d√©brochage sous tension si pr√©vu", "Verrouillage m√©canique"],
        exemple_phrase_epc: "Les tap-off box shall √™tre √©quip√©es de fusibles ou disjoncteurs calibr√©s selon la charge. / Tap-off boxes shall be fitted with fuses or circuit breakers rated for the load."
      }
    ];

    // ============================================================
    // FILTRES CONFIGURATION
    // ============================================================
    const filterConfig = {
      famille: {
        label: "Famille",
        values: ["G√©n√©rique", "A√©rien", "Enterr√©", "Ferm√©", "Travers√©e", "Raccordement", "Busduct"]
      },
      materiaux: {
        label: "Mat√©riau",
        values: ["Acier", "Inox", "Alu", "PVC-PE", "B√©ton", "Mixte"],
        multi: true
      },
      environnements: {
        label: "Environnement",
        values: ["Indoor", "Outdoor", "Corrosif", "Zone humide"],
        multi: true
      },
      usages: {
        label: "Usage",
        values: ["BT", "MT", "Data", "Puissance", "Contr√¥le-commande"],
        multi: true
      }
    };

    // ============================================================
    // √âTAT DE L'APPLICATION
    // ============================================================
    let activeFilters = {
      famille: [],
      materiaux: [],
      environnements: [],
      usages: []
    };
    let searchQuery = "";
    let currentView = "cards";

    // ============================================================
    // FONCTIONS UTILITAIRES
    // ============================================================
    function normalizeText(text) {
      return text.toLowerCase()
        .normalize("NFD")
        .replace(/[\u0300-\u036f]/g, "")
        .replace(/[^a-z0-9\s]/g, "");
    }

    function matchesSearch(item, query) {
      if (!query) return true;
      const normalizedQuery = normalizeText(query);
      const searchFields = [
        item.nom_fr,
        item.nom_en || "",
        item.description,
        ...(item.noms_alternatifs || []),
        ...(item.notes_epc || []),
        ...(item.usages || [])
      ].join(" ");
      return normalizeText(searchFields).includes(normalizedQuery);
    }

    function matchesFilters(item, filters) {
      // Famille (single select logic but stored as array)
      if (filters.famille.length > 0 && !filters.famille.includes(item.famille)) {
        return false;
      }
      // Multi-value fields (any match)
      for (const key of ["materiaux", "environnements", "usages"]) {
        if (filters[key].length > 0) {
          const itemValues = item[key] || [];
          const hasMatch = filters[key].some(f => itemValues.includes(f));
          if (!hasMatch) return false;
        }
      }
      return true;
    }

    function getFilteredData() {
      return data.filter(item => 
        matchesSearch(item, searchQuery) && matchesFilters(item, activeFilters)
      );
    }

    function showToast(message) {
      const toast = document.getElementById("toast");
      toast.textContent = message;
      toast.classList.add("show");
      setTimeout(() => toast.classList.remove("show"), 2000);
    }

    function copyToClipboard(text, btn) {
      navigator.clipboard.writeText(text).then(() => {
        btn.classList.add("copied");
        btn.textContent = "‚úì Copi√© !";
        showToast("Phrase EPC copi√©e !");
        setTimeout(() => {
          btn.classList.remove("copied");
          btn.textContent = "üìã Copier wording EPC";
        }, 2000);
      });
    }

    function downloadFile(content, filename, type) {
      const blob = new Blob([content], { type });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = filename;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }

    // ============================================================
    // RENDU UI
    // ============================================================
    function renderFilters() {
      const container = document.getElementById("filtersContainer");
      container.innerHTML = "";

      for (const [key, config] of Object.entries(filterConfig)) {
        const group = document.createElement("div");
        group.className = "filter-group";
        group.innerHTML = `<h4>${config.label}</h4><div class="filter-options" id="filter-${key}"></div>`;
        
        const optionsContainer = group.querySelector(".filter-options");
        config.values.forEach(value => {
          const chip = document.createElement("span");
          chip.className = "filter-chip" + (activeFilters[key].includes(value) ? " active" : "");
          chip.textContent = value;
          chip.addEventListener("click", () => toggleFilter(key, value));
          optionsContainer.appendChild(chip);
        });
        
        container.appendChild(group);
      }
    }

    function toggleFilter(key, value) {
      const index = activeFilters[key].indexOf(value);
      if (index === -1) {
        activeFilters[key].push(value);
      } else {
        activeFilters[key].splice(index, 1);
      }
      renderFilters();
      renderContent();
    }

    function getFamilleIconId(famille) {
      const map = {
        "G√©n√©rique": "icon-generique",
        "A√©rien": "icon-aerien",
        "Enterr√©": "icon-enterre",
        "Ferm√©": "icon-ferme",
        "Travers√©e": "icon-traversee",
        "Raccordement": "icon-raccordement",
        "Busduct": "icon-busduct"
      };
      return map[famille] || "icon-generique";
    }

    function renderCards(items) {
      const container = document.getElementById("cardsView");
      container.innerHTML = "";

      items.forEach(item => {
        const iconId = getFamilleIconId(item.famille);
        const card = document.createElement("article");
        card.className = "card";
        card.innerHTML = `
          <div class="card-header">
            <div class="card-icon">
              <svg><use href="#${iconId}"></use></svg>
            </div>
            <div class="card-header-content">
              <h3>${item.nom_fr}</h3>
              ${item.nom_en ? `<span class="nom-en">${item.nom_en}</span>` : ""}
              <span class="famille-badge">${item.famille}</span>
            </div>
          </div>
          <div class="card-body">
            <div class="card-section">
              <h4>Description</h4>
              <p>${item.description}</p>
            </div>
            ${item.noms_alternatifs?.length ? `
            <div class="card-section">
              <h4>Synonymes</h4>
              <div class="tags">${item.noms_alternatifs.map(n => `<span class="tag">${n}</span>`).join("")}</div>
            </div>` : ""}
            <div class="card-section">
              <h4>Caract√©ristiques</h4>
              <div class="tags">
                ${(item.materiaux || []).map(m => `<span class="tag materiau">${m}</span>`).join("")}
                ${(item.environnements || []).map(e => `<span class="tag env">${e}</span>`).join("")}
              </div>
            </div>
            <div class="card-section">
              <h4>Usages</h4>
              <div class="tags">${(item.usages || []).map(u => `<span class="tag usage">${u}</span>`).join("")}</div>
            </div>
            ${item.notes_epc?.length ? `
            <div class="card-section">
              <h4>Notes EPC</h4>
              <ul style="margin:0;padding-left:1.2rem;font-size:0.85rem;color:var(--text-light);">
                ${item.notes_epc.map(n => `<li>${n}</li>`).join("")}
              </ul>
            </div>` : ""}
          </div>
          <div class="card-footer">
            <button class="copy-btn" data-phrase="${encodeURIComponent(item.exemple_phrase_epc)}">üìã Copier wording EPC</button>
          </div>
        `;
        
        card.querySelector(".copy-btn").addEventListener("click", function() {
          copyToClipboard(decodeURIComponent(this.dataset.phrase), this);
        });
        
        container.appendChild(card);
      });
    }

    function renderTable(items) {
      const tbody = document.getElementById("tableBody");
      tbody.innerHTML = "";

      items.forEach(item => {
        const iconId = getFamilleIconId(item.famille);
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td class="nom-cell">
            <div style="display:flex;align-items:center;gap:0.5rem;">
              <span class="table-icon"><svg><use href="#${iconId}"></use></svg></span>
              <div>
                ${item.nom_fr}
                ${item.noms_alternatifs?.length ? `<div class="small-tags">${item.noms_alternatifs.slice(0, 2).map(n => `<span class="small-tag">${n}</span>`).join("")}</div>` : ""}
              </div>
            </div>
          </td>
          <td><span class="tag">${item.famille}</span></td>
          <td style="max-width:300px;">${item.description.substring(0, 120)}...</td>
          <td><div class="small-tags">${(item.usages || []).map(u => `<span class="small-tag">${u}</span>`).join("")}</div></td>
          <td class="nom-en">${item.nom_en || "-"}</td>
          <td><button class="table-copy-btn" data-phrase="${encodeURIComponent(item.exemple_phrase_epc)}">üìã Copier</button></td>
        `;
        
        tr.querySelector(".table-copy-btn").addEventListener("click", function() {
          copyToClipboard(decodeURIComponent(this.dataset.phrase), this);
        });
        
        tbody.appendChild(tr);
      });
    }

    function renderGlossaire() {
      const tbody = document.getElementById("glossaireBody");
      tbody.innerHTML = "";

      data.forEach(item => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td><strong>${item.nom_fr}</strong></td>
          <td>${item.nom_en || "-"}</td>
          <td><span class="tag">${item.famille}</span></td>
        `;
        tbody.appendChild(tr);
      });
    }

    function renderContent() {
      const filtered = getFilteredData();
      
      document.getElementById("resultsCount").textContent = `${filtered.length} r√©sultat${filtered.length > 1 ? "s" : ""}`;
      
      if (currentView === "cards") {
        document.getElementById("cardsView").classList.remove("hidden");
        document.getElementById("tableView").classList.add("hidden");
        renderCards(filtered);
      } else {
        document.getElementById("cardsView").classList.add("hidden");
        document.getElementById("tableView").classList.remove("hidden");
        renderTable(filtered);
      }
    }

    // ============================================================
    // EXPORTS
    // ============================================================
    function exportJSON() {
      const filtered = getFilteredData();
      const json = JSON.stringify(filtered, null, 2);
      downloadFile(json, "catalogue-cables-epc.json", "application/json");
      showToast("Export JSON t√©l√©charg√© !");
    }

    function exportCSV() {
      const filtered = getFilteredData();
      const headers = ["ID", "Famille", "Nom FR", "Nom EN", "Synonymes", "Description", "Mat√©riaux", "Environnements", "Usages", "Notes EPC", "Phrase EPC"];
      const rows = filtered.map(item => [
        item.id,
        item.famille,
        item.nom_fr,
        item.nom_en || "",
        (item.noms_alternatifs || []).join("; "),
        item.description.replace(/"/g, '""'),
        (item.materiaux || []).join("; "),
        (item.environnements || []).join("; "),
        (item.usages || []).join("; "),
        (item.notes_epc || []).join("; "),
        item.exemple_phrase_epc.replace(/"/g, '""')
      ]);
      
      const csv = [headers.join(","), ...rows.map(r => r.map(c => `"${c}"`).join(","))].join("\n");
      downloadFile("\uFEFF" + csv, "catalogue-cables-epc.csv", "text/csv;charset=utf-8");
      showToast("Export CSV t√©l√©charg√© !");
    }

    function exportGlossaireCSV() {
      const headers = ["Terme FR", "Terme EN", "Famille"];
      const rows = data.map(item => [item.nom_fr, item.nom_en || "", item.famille]);
      const csv = [headers.join(","), ...rows.map(r => r.map(c => `"${c}"`).join(","))].join("\n");
      downloadFile("\uFEFF" + csv, "glossaire-epc-fr-en.csv", "text/csv;charset=utf-8");
      showToast("Glossaire CSV t√©l√©charg√© !");
    }

    // ============================================================
    // √âV√âNEMENTS
    // ============================================================
    document.getElementById("searchInput").addEventListener("input", (e) => {
      searchQuery = e.target.value;
      renderContent();
    });

    document.querySelectorAll(".view-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        document.querySelectorAll(".view-btn").forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        currentView = btn.dataset.view;
        renderContent();
      });
    });

    document.getElementById("resetFilters").addEventListener("click", () => {
      activeFilters = { famille: [], materiaux: [], environnements: [], usages: [] };
      searchQuery = "";
      document.getElementById("searchInput").value = "";
      renderFilters();
      renderContent();
    });

    document.getElementById("exportJson").addEventListener("click", exportJSON);
    document.getElementById("exportCsv").addEventListener("click", exportCSV);
    document.getElementById("exportGlossaire").addEventListener("click", exportGlossaireCSV);

    // ============================================================
    // INITIALISATION
    // ============================================================
    renderFilters();
    renderContent();
    renderGlossaire();
  </script>
</body>
</html>
